---
Task: t176_1_hugo_site_scaffold.md
Parent Task: aitasks/t176_create_web_site.md
Sibling Tasks: aitasks/t176/t176_2_*.md, aitasks/t176/t176_3_*.md, aitasks/t176/t176_4_*.md, aitasks/t176/t176_5_*.md
Worktree: (none - working on current branch)
Branch: main
Base branch: main
---

# Plan: t176_1 — Hugo Site Scaffold with Docsy Module

## Context

The aitasks project needs a documentation website. This child task sets up the foundational Hugo site scaffold in a `website/` subdirectory using the Docsy theme via Hugo Modules. All other child tasks (content migration, landing page, CI workflow, README updates) depend on this.

## Prerequisites — Install Required Tools

Hugo, Go, and Dart Sass are not currently installed. All three are available via pacman on Arch Linux:

```bash
sudo pacman -S hugo go dart-sass
```

- Hugo 0.155.3 (extended edition included in Arch package)
- Go 1.25.7
- Dart Sass 1.97.3

## Implementation Steps

### Step 1: Install Hugo, Go, and Dart Sass
```bash
sudo pacman -S --noconfirm hugo go dart-sass
```

### Step 2: Create website directory and init Hugo site
```bash
mkdir -p website
cd website
hugo new site . --force
```

### Step 3: Initialize Hugo Modules
```bash
cd website
hugo mod init github.com/beyondeye/aitasks/website
```

### Step 4: Write hugo.toml
Replace auto-generated config with Docsy configuration. Key settings:
- `baseURL = "https://beyondeye.github.io/aitasks/"`
- Docsy module import via `[module]` section
- GitHub repo links in `[params]`
- `unsafe = true` in goldmark renderer (for HTML in markdown)
- Offline search enabled

### Step 5: Download Docsy module
```bash
cd website
hugo mod get github.com/google/docsy@v0.10.0
hugo mod tidy
```

### Step 6: Create placeholder SCSS files
- `website/assets/scss/_variables_project.scss` (empty, required by Docsy)
- `website/assets/scss/_styles_project.scss` (empty, required by Docsy)

### Step 7: Create minimal content pages
- `website/content/_index.md` — Landing page with Docsy cover block
- `website/content/docs/_index.md` — Docs section index

### Step 8: Update .gitignore
Add `website/public/` and `website/resources/` to `.gitignore`.

### Step 9: Create local development docs
Create `docs/website-development.md` documenting what needs to be installed on a local machine to work on the website:
- Required tools: Hugo extended, Go, Dart Sass (with version minimums)
- Installation instructions for Arch Linux (`pacman -S hugo go dart-sass`)
- Installation instructions for other platforms (brew, apt, snap, etc.)
- How to run the site locally (`cd website && hugo server`)
- Common troubleshooting (SCSS errors, module download issues)

### Step 10: Verify
```bash
cd website && hugo server
```
Confirm site starts without errors at `localhost:1313/aitasks/`.

## Files to Create/Modify

| File | Action |
|------|--------|
| `website/hugo.toml` | Create — full Docsy config |
| `website/go.mod` | Auto-generated by `hugo mod init` |
| `website/go.sum` | Auto-generated by `hugo mod get` |
| `website/content/_index.md` | Create — landing page placeholder |
| `website/content/docs/_index.md` | Create — docs section landing |
| `website/assets/scss/_variables_project.scss` | Create — empty placeholder |
| `website/assets/scss/_styles_project.scss` | Create — empty placeholder |
| `.gitignore` | Modify — add website/public/ and website/resources/ |
| `docs/website-development.md` | Create — local dev setup guide for the website |

## Verification

1. `hugo version` shows extended edition
2. `cd website && hugo server` starts without errors
3. Site accessible at `localhost:1313/aitasks/`
4. "Documentation" link in navbar works
5. `go.mod` and `go.sum` exist
6. No SCSS compilation errors

## Final Implementation Notes
- **Actual work done:** Created Hugo site scaffold in `website/` with Docsy v0.14.3 (upgraded from originally planned v0.10.0), created all config/content files, and wrote comprehensive local development docs.
- **Deviations from plan:**
  - Used Docsy v0.14.3 (latest) instead of v0.10.0 — v0.14.3 requires PostCSS which was not in the original plan
  - Added PostCSS + autoprefixer as npm dependencies (`website/package.json`) — Docsy v0.14.3 uses PostCSS for CSS processing
  - Added `website/node_modules/` to `.gitignore`
  - Node.js/npm is now a required prerequisite alongside Hugo, Go, and Dart Sass
- **Issues encountered:** `sudo pacman` cannot be run from Claude Code (needs terminal password input). User installed packages manually. Docsy v0.14.3 requires PostCSS which wasn't anticipated — discovered during first `hugo build` attempt.
- **Key decisions:** Used latest Docsy version (v0.14.3) for better compatibility rather than older v0.10.0.
- **Notes for sibling tasks:**
  - The CI workflow (t176_4) must install Node.js and run `npm install` in the `website/` directory before building
  - PostCSS + autoprefixer are defined in `website/package.json` and `website/package-lock.json`
  - Docsy version is v0.14.3, not v0.10.0 as originally planned
  - `docs/website-development.md` already documents all prerequisites including Node.js
  - The `hugo build` command should be run from the `website/` directory

## Step 9 Reference (Post-Implementation)
After implementation: archive via `./aiscripts/aitask_archive.sh 176_1`
