---
priority: medium
effort: high
depends: ['97']
issue_type: feature
status: Done
labels: [aitasks, claudeskills]
assigned_to: dario-e@beyond-eye.com
created_at: 2026-02-11 11:53
updated_at: 2026-02-22 09:25
completed_at: 2026-02-22 09:25
boardcol: now
boardidx: 10
---

I would like to create a new claude code skill to explain some specific file or multiple files
 in the project repo. the explanation should be composed of several parts:
1) the actual functionality implemented by the code, 
2) example of usage if relevants (from the project itself if possible).
3) How the code evolved in what it is now, and the reason it evolved this way based on 
 information  extractd from aitasks that where involved in the changes.
  this information can be extracted by  parsing the commit messages for the file(s) last changes, extract the task id from them,
   retrieve  the associated aitask plans with implementation notes. and generate summaries from them
  extract the aitask number associated with the commit searching the text "(t<taskid>)"
  
The skill implementation should be structured in stages:
1) first implement (or reuse the existing bash script) taht where implemented in task t97
`aiscripts/lib/task_utils.sh` (functions: `resolve_task_file`,
 `resolve_plan_file`, `extract_final_implementation_notes`) that can be reused for the commit-to-task mapping and plan resolution needed by this skill
2) In the first part the skill identify the files that the user want to analyze  
3) Ask the user what he want to be explained functionality/ example usages/ how the code evolved
4) according to user answer perform the analysis requried and give answers, allow user follow up questions
  or changing track from explained functionality/ example usages/ how the code evolved  
When user ask questions about how the code evolved, allow the user to ask questions for specific
section of the code files 

the idea for the feature comes from https://docs.entire.io/cli/commands#explain
and also for the problem describe in the following link cognitive dept
https://margaretstorey.com/blog/2026/02/09/cognitive-debt/

This task is probably a complex task: need to understand the requirement, how to reuse/adapt the 
infrastructure from task t97, and how to implement in the skill the flows required for the 3 modes:
perhaps creating some file that contains all relevants information for answering the user queries
containin all the references for each specic part of the code, that can be then parsed by claude when 
the user ask questions on specific part of the code. This seems to be good idea: creating first
a file with for each part of the each of the file involved the reference to commits and aitasks involved
in a specific format and the claude can parse this file with reference to answer the user questions
Probably this reference file can be generated by a shell script.  

The format of this reference file could like like something like this
-A general table that map commits -> timeline, i.e. 1 -> first commit , 2-> second commit 3-> ..., until last commit that has been taken into consideration (configurable)

- for each range of line in a file, the ordered list of commits (their timeline code as defined above) that influenced it with the associated task number. basically need to split the full range of line
 in subintervals according to commits that influenced hem

- an extracted directory of data with all the archived aiplans and aitasks (extracted from archived and old.tar.gz files) for the commits that we are analizing for the selected set of files. aitask and aiplan file renamed to include onlyt
 the task id, without the task name text after the id

- based on this extracted data write the claude skill to answers the questions as defined abouve

- the reference file and extracted aitaks, aiplan should be written in the aiexplains directory, in the project dir, and deleted when the skill exits

ask me questions if you need clarification. propose alternative technical solutions if you think there are
 
